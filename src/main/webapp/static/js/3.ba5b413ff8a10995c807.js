webpackJsonp([3],{EoIj:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("fZjL"),r=o.n(a),l=o("Izdj"),i=o("cPFl"),s=(o("NYxO"),{mixins:[l.a],data:function(){return{url:"/oversea_tms/operator/showOperatorByPage.action",searchParams:{opUsername:"",opRealname:"",roleId:"",pageNo:1,pageSize:10},treeData:[],roleData:[],treeVisiableAdd:!1,treeVisiableEdit:!1,addForm:{orgName:"",opUsername:"",opRealname:"",opTel:"",roleId:"",orgId:"",opRemark:""},editForm:{orgName:"",opId:"",opUsername:"",opRealname:"",opTel:"",roleId:"",orgId:"",opRemark:""},rules:i.k,props:{label:"orgName"}}},mounted:function(){var e=this;this.getData({url:"/oversea_tms/organization/showOrgListForOrg.action",success:function(t){t.message?e.$message.error(t.message):e.treeData=t}}),this.getData({url:"/oversea_tms/role/allRole.action",success:function(t){t.message?e.$message.error(t.message):e.roleData=t}})},methods:{openAddOperator:function(){this.addVisiable=!0},openEditOperator:function(e){var t=this;this.editVisiable=!0,r()(this.editForm).forEach(function(o){t.editForm[o]=e[o]})},orgAdd:function(e){this.treeVisiableAdd=!1,this.addForm.orgId=e.orgId,this.addForm.orgName=e.orgName},orgEdit:function(e){this.treeVisiableEdit=!1,this.editForm.orgId=e.orgId,this.editForm.orgName=e.orgName},addOperator:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.submitData({data:e.addForm,url:"/oversea_tms/operator/addOperator.action",success:function(t){e.reload=!e.reload,e.addVisiable=!1,e.$refs.addForm.resetFields()}})})},editOperator:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.submitData({data:e.editForm,url:"/oversea_tms/operator/updateOperator.action",success:function(t){e.reload=!e.reload,e.editVisiable=!1}})})},deleteOperator:function(e){var t=this;this.confirm({title:this.$t("systemManage.operator.deleteConfirm"),data:{opId:e.opId},url:"/oversea_tms/operator/logoffOperator.action",success:function(e){t.reload=!t.reload}})},unlockOperator:function(e){var t=this;this.confirm({title:this.$t("systemManage.operator.unlockConfirm"),data:{opId:e.opId},url:"/oversea_tms/operator/unlockOperator.action",success:function(e){t.reload=!t.reload}})},resetOperator:function(e){var t=this;this.confirm({title:this.$t("systemManage.operator.resetConfirm"),data:{opId:e.opId},url:"/oversea_tms/operator/resetPwd.action",success:function(e){t.reload=!t.reload}})}}}),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"operatorPage"},[o("div",{staticClass:"search"},[o("more-panel",[o("el-form",{staticClass:"demo-form-inline",attrs:{slot:"form",inline:!0},slot:"form"},[o("el-form-item",{attrs:{label:e.$t("systemManage.operator.username")}},[o("el-input",{ref:"opUsername",attrs:{size:"small",placeholder:e.$t("systemManage.operator.usernamePlace")},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search()}},model:{value:e.searchParams.opUsername,callback:function(t){e.$set(e.searchParams,"opUsername",t)},expression:"searchParams.opUsername"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("systemManage.operator.realname")}},[o("el-input",{attrs:{size:"small",placeholder:e.$t("systemManage.operator.realnamePlace")},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search()}},model:{value:e.searchParams.opRealname,callback:function(t){e.$set(e.searchParams,"opRealname",t)},expression:"searchParams.opRealname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("systemManage.operator.role")}},[o("el-select",{attrs:{size:"small"},model:{value:e.searchParams.roleId,callback:function(t){e.$set(e.searchParams,"roleId",t)},expression:"searchParams.roleId"}},e._l(e.roleData,function(e,t){return o("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})}))],1)],1),e._v(" "),o("div",{attrs:{slot:"control"},slot:"control"},[o("el-button",{attrs:{size:"small",icon:"search",type:"primary"},on:{click:function(t){e.search()}}},[e._v(e._s(e.$t("search")))]),e._v(" "),o("el-button",{attrs:{size:"small",icon:"circle-close",type:"primary"},on:{click:function(t){e.reset()}}},[e._v(e._s(e.$t("reset")))]),e._v(" "),e._l(e.popedomList.button,function(t,a){return["01101"==t.popedomId?o("el-button",{key:a,attrs:{size:"small",type:"primary"},on:{click:function(t){e.openAddOperator()}}},[o("i",{staticClass:"iconfont",class:t.popedomIconcls}),e._v(e._s(e.isEn?t.popedomName:t.popedomRemark))]):e._e()]})],2)],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":e.emptyText,height:e.tableHeight,data:e.tableData,"highlight-current-row":"",border:"",stripe:""},on:{"current-change":e.select}},[o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",type:"index",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:e.$t("remark")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.opRemark))])])],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.username"),prop:"opUsername","min-width":"120"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.realname"),prop:"opRealname","min-width":"120"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.organization"),prop:"orgName","min-width":"140"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.role"),prop:"roleName","min-width":"120"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.tel"),prop:"opTel","min-width":"120"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.operator.status"),prop:"opStatusName","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.opStatus?o("el-tag",{attrs:{size:"small",type:"success","close-transition":""}},[e._v(e._s(e.isEn?"normal":"正常"))]):e._e(),e._v(" "),"1"==t.row.opStatus?o("el-tag",{attrs:{size:"small",type:"danger","close-transition":""}},[e._v(e._s(e.isEn?"locked":"锁定"))]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("operation"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.popedomList.button,function(a,r){return"01102"==a.popedomId?o("el-button",{key:r,attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"warning",size:"mini"},on:{click:function(o){e.openEditOperator(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01104"==a.popedomId?o("el-button",{key:r,attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"success",size:"mini"},on:{click:function(o){e.unlockOperator(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01105"==a.popedomId?o("el-button",{key:r,attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"primary",size:"mini"},on:{click:function(o){e.resetOperator(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01103"==a.popedomId?o("el-button",{key:r,attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"info",size:"mini"},on:{click:function(o){e.deleteOperator(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()})]}}])})],1),e._v(" "),o("my-pagination",{attrs:{reload:e.reload,searchParams:e.searchParams,searchFlag:e.searchFlag,url:e.url},on:{loadingStatus:e.loadingStatus,tableContent:e.tableContent}}),e._v(" "),o("el-dialog",{attrs:{title:e.$t("systemManage.operator.addFormTitle"),visible:e.addVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisiable=t}}},[o("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[o("el-row",[o("el-col",{attrs:{lg:{span:12,offset:0}}},[o("el-popover",{ref:"popover2",attrs:{trigger:"click"},model:{value:e.treeVisiableAdd,callback:function(t){e.treeVisiableAdd=t},expression:"treeVisiableAdd"}},[o("el-tree",{staticStyle:{width:"200px",height:"240px",overflow:"auto"},attrs:{"expand-on-click-node":!1,data:e.treeData,props:e.props,"node-key":"orgId"},on:{"node-click":e.orgAdd}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgName",label:e.$t("systemManage.operator.organization")}},[o("el-input",{directives:[{name:"popover",rawName:"v-popover:popover2",arg:"popover2"}],attrs:{readonly:""},model:{value:e.addForm.orgName,callback:function(t){e.$set(e.addForm,"orgName",t)},expression:"addForm.orgName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"roleId",label:e.$t("systemManage.operator.role")}},[o("el-select",{model:{value:e.addForm.roleId,callback:function(t){e.$set(e.addForm,"roleId",t)},expression:"addForm.roleId"}},e._l(e.roleData,function(e,t){return o("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})}))],1),e._v(" "),o("el-form-item",{attrs:{prop:"opRealname",label:e.$t("systemManage.operator.realname")}},[o("el-input",{model:{value:e.addForm.opRealname,callback:function(t){e.$set(e.addForm,"opRealname",t)},expression:"addForm.opRealname"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:12,offset:0}}},[o("el-form-item",{attrs:{prop:"opUsername",label:e.$t("systemManage.operator.username")}},[o("el-input",{model:{value:e.addForm.opUsername,callback:function(t){e.$set(e.addForm,"opUsername",t)},expression:"addForm.opUsername"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"opTel",label:e.$t("systemManage.operator.tel")}},[o("el-input",{model:{value:e.addForm.opTel,callback:function(t){e.$set(e.addForm,"opTel",t)},expression:"addForm.opTel"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"opRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.opRemark,callback:function(t){e.$set(e.addForm,"opRemark",t)},expression:"addForm.opRemark"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.addOperator()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.addVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.$t("systemManage.operator.editFormTitle"),visible:e.editVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisiable=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"100px"}},[o("el-row",[o("el-col",{attrs:{lg:{span:12,offset:0}}},[o("el-form-item",{attrs:{prop:"opUsername",label:e.$t("systemManage.operator.username")}},[o("el-input",{attrs:{disabled:""},model:{value:e.editForm.opUsername,callback:function(t){e.$set(e.editForm,"opUsername",t)},expression:"editForm.opUsername"}})],1),e._v(" "),o("el-popover",{ref:"popover3",attrs:{trigger:"click"},model:{value:e.treeVisiableEdit,callback:function(t){e.treeVisiableEdit=t},expression:"treeVisiableEdit"}},[o("el-tree",{staticStyle:{height:"240px",overflow:"auto"},attrs:{"expand-on-click-node":!1,data:e.treeData,props:e.props,"node-key":"orgId"},on:{"node-click":e.orgEdit}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgId",label:e.$t("systemManage.operator.organization")}},[o("el-input",{directives:[{name:"popover",rawName:"v-popover:popover3",arg:"popover3"}],attrs:{readonly:""},model:{value:e.editForm.orgName,callback:function(t){e.$set(e.editForm,"orgName",t)},expression:"editForm.orgName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"opRealname",label:e.$t("systemManage.operator.realname")}},[o("el-input",{model:{value:e.editForm.opRealname,callback:function(t){e.$set(e.editForm,"opRealname",t)},expression:"editForm.opRealname"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:12,offset:0}}},[o("el-form-item",{attrs:{prop:"roleId",label:e.$t("systemManage.operator.role")}},[o("el-select",{model:{value:e.editForm.roleId,callback:function(t){e.$set(e.editForm,"roleId",t)},expression:"editForm.roleId"}},e._l(e.roleData,function(e,t){return o("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})}))],1),e._v(" "),o("el-form-item",{attrs:{prop:"opTel",label:e.$t("systemManage.operator.tel")}},[o("el-input",{model:{value:e.editForm.opTel,callback:function(t){e.$set(e.editForm,"opTel",t)},expression:"editForm.opTel"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"opRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.opRemark,callback:function(t){e.$set(e.editForm,"opRemark",t)},expression:"editForm.opRemark"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.editOperator()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.editVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1)],1)},d=[],c={render:n,staticRenderFns:d},m=c,p=o("VU/8"),u=p(s,m,!1,null,null,null);t.default=u.exports},RQZk:function(e,t,o){"use strict";function a(e){o("hVue")}Object.defineProperty(t,"__esModule",{value:!0});var r=o("fZjL"),l=o.n(r),i=o("Izdj"),s=o("cPFl"),n={mixins:[i.a],data:function(){return{treeHeight:"",treeData:[],branchNameSearch:"",props:{label:"orgName",children:"children"},addForm:{orgParentName:"",orgName:"",orgId:"",orgPid:"",orgAddress:"",orgLinkman:"",orgTel:"",orgRemark:"",orgType:""},editForm:{orgParentName:"",orgName:"",orgId:"",orgAddress:"",orgLinkman:"",orgTel:"",orgRemark:"",orgType:""},rules:s.l}},mounted:function(){var e=this;this.tableHeight=document.documentElement.clientHeight-117,this.treeHeight=document.documentElement.clientHeight-180+"px",window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-117,e.treeHeight=document.documentElement.clientHeight-180+"px"},this.initData()},watch:{branchNameSearch:function(e){this.$refs.ztree.filter(e)}},methods:{initData:function(){var e=this;this.getData({url:"/oversea_tms/organization/showOrgList.action",success:function(t){e.treeData=t.concat(),e.tableData=t,t[0].children&&t[0].children.forEach(function(t){e.tableData.push(t)})}})},filterNode:function(e,t){return!e||-1!==t.orgName.indexOf(e)},orgSearch:function(e,t){var o=t.childNodes;if(o.length){var a=[];o.forEach(function(e){a.push(e.data)},this),a.unshift(e),this.tableData=a}},showAddOrg:function(e){this.addForm.orgParentName=e.orgName,this.addForm.orgPid=e.orgId,this.addVisiable=!0},addOrg:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.submitData({data:e.addForm,url:"/oversea_tms/organization/addOrg.action",success:function(t){e.initData(),e.addVisiable=!1,e.$refs.addForm.resetFields()}})})},showEditOrg:function(e){var t=this;this.editVisiable=!0,l()(this.editForm).forEach(function(o){t.editForm[o]=e[o]})},editOrg:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.submitData({data:e.editForm,url:"/oversea_tms/organization/updateOrg.action",success:function(t){e.initData(),e.editVisiable=!1}})})},showDeleteOrg:function(e){var t=this;this.confirm({title:this.$t("systemManage.org.deleteConfirm"),url:"/oversea_tms/organization/deleteOrg.action",data:{orgId:e.orgId},success:function(e){t.initData()}})}}},d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-col",{attrs:{lg:5}},[o("div",{staticStyle:{"padding-right":"10px"}},[o("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":"right"}},[o("el-form-item",[o("el-input",{attrs:{size:"small",placeholder:e.$t("systemManage.org.searchPlace")},model:{value:e.branchNameSearch,callback:function(t){e.branchNameSearch=t},expression:"branchNameSearch"}})],1)],1),e._v(" "),o("el-tree",{ref:"ztree",staticStyle:{overflow:"auto",border:"1px solid #d1dbe5"},style:{height:e.treeHeight},attrs:{data:e.treeData,"default-expand-all":!0,"expand-on-click-node":!1,"highlight-current":"",props:e.props,"node-key":"orgId","filter-node-method":e.filterNode},on:{"current-change":e.orgSearch}})],1)]),e._v(" "),o("el-col",{attrs:{lg:19}},[o("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",height:e.tableHeight,border:"",stripe:"",data:e.tableData},on:{"current-change":e.select}},[o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",type:"index",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:e.$t("systemManage.org.level")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.orgLvName))])]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("tel")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.orgTel))])]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("address")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.orgAddress))])]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("createTime")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.createdDatetime))])]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("updateTime")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.updateDatetime))])]),e._v(" "),o("el-form-item",{attrs:{label:e.$t("remark")}},[o("span",{staticClass:"itemValue"},[e._v(e._s(t.row.orgRemark))])])],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.org.name"),prop:"orgName","min-width":"120"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.org.id"),prop:"orgId","min-width":"90"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.org.type"),prop:"orgTypeName","min-width":"90"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("linkman"),prop:"orgLinkman","min-width":"80"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("operation"),"min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.popedomList.button,function(a,r){return"01301"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"primary",size:"mini"},on:{click:function(o){e.showAddOrg(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01302"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"warning",size:"mini"},on:{click:function(o){e.showEditOrg(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01303"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"info",size:"mini"},on:{click:function(o){e.showDeleteOrg(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()})]}}])})],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{width:"65%",title:e.$t("systemManage.org.addFormTitle"),visible:e.addVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisiable=t}}},[o("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"150px"}},[o("el-row",[o("el-col",{attrs:{lg:{span:11,offset:0}}},[o("el-form-item",{attrs:{prop:"orgParentName",label:e.$t("systemManage.org.parentOrg")}},[o("el-input",{attrs:{disabled:""},model:{value:e.addForm.orgParentName,callback:function(t){e.$set(e.addForm,"orgParentName",t)},expression:"addForm.orgParentName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgId",label:e.$t("systemManage.org.id")}},[o("el-input",{model:{value:e.addForm.orgId,callback:function(t){e.$set(e.addForm,"orgId",t)},expression:"addForm.orgId"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgType",label:e.$t("systemManage.org.type")}},[o("el-select",{attrs:{size:"small"},model:{value:e.addForm.orgType,callback:function(t){e.$set(e.addForm,"orgType",t)},expression:"addForm.orgType"}},[o("el-option",{attrs:{label:"clearing agencies",value:0}}),e._v(" "),o("el-option",{attrs:{label:"administrative agencies",value:1}})],1)],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgAddress",label:e.$t("address")}},[o("el-input",{attrs:{type:"text"},model:{value:e.addForm.orgAddress,callback:function(t){e.$set(e.addForm,"orgAddress",t)},expression:"addForm.orgAddress"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:11,offset:1}}},[o("el-form-item",{attrs:{prop:"orgName",label:e.$t("systemManage.org.name")}},[o("el-input",{model:{value:e.addForm.orgName,callback:function(t){e.$set(e.addForm,"orgName",t)},expression:"addForm.orgName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgLinkman",label:e.$t("linkman")}},[o("el-input",{model:{value:e.addForm.orgLinkman,callback:function(t){e.$set(e.addForm,"orgLinkman",t)},expression:"addForm.orgLinkman"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgTel",label:e.$t("tel")}},[o("el-input",{model:{value:e.addForm.orgTel,callback:function(t){e.$set(e.addForm,"orgTel",t)},expression:"addForm.orgTel"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:23}}},[o("el-form-item",{attrs:{prop:"orgRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.orgRemark,callback:function(t){e.$set(e.addForm,"orgRemark",t)},expression:"addForm.orgRemark"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.addOrg()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.addVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1),e._v(" "),o("el-dialog",{attrs:{width:"65%",title:e.$t("systemManage.org.editFormTitle"),visible:e.editVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisiable=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"120px"}},[o("el-row",[o("el-col",{attrs:{lg:{span:11,offset:0}}},[o("el-form-item",{attrs:{prop:"orgId",label:e.$t("systemManage.org.id")}},[o("el-input",{attrs:{disabled:""},model:{value:e.editForm.orgId,callback:function(t){e.$set(e.editForm,"orgId",t)},expression:"editForm.orgId"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgType",label:e.$t("systemManage.org.type")}},[o("el-select",{attrs:{disabled:"",size:"small"},model:{value:e.editForm.orgType,callback:function(t){e.$set(e.editForm,"orgType",t)},expression:"editForm.orgType"}},[o("el-option",{attrs:{label:"clearing agencies",value:"0"}}),e._v(" "),o("el-option",{attrs:{label:"administrative agencies",value:"1"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgAddress",label:e.$t("address")}},[o("el-input",{attrs:{type:"text"},model:{value:e.editForm.orgAddress,callback:function(t){e.$set(e.editForm,"orgAddress",t)},expression:"editForm.orgAddress"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:11,offset:1}}},[o("el-form-item",{attrs:{prop:"orgName",label:e.$t("systemManage.org.name")}},[o("el-input",{model:{value:e.editForm.orgName,callback:function(t){e.$set(e.editForm,"orgName",t)},expression:"editForm.orgName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgLinkman",label:e.$t("linkman")}},[o("el-input",{model:{value:e.editForm.orgLinkman,callback:function(t){e.$set(e.editForm,"orgLinkman",t)},expression:"editForm.orgLinkman"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"orgTel",label:e.$t("tel")}},[o("el-input",{model:{value:e.editForm.orgTel,callback:function(t){e.$set(e.editForm,"orgTel",t)},expression:"editForm.orgTel"}})],1)],1),e._v(" "),o("el-col",{attrs:{lg:{span:23}}},[o("el-form-item",{attrs:{prop:"orgRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.orgRemark,callback:function(t){e.$set(e.editForm,"orgRemark",t)},expression:"editForm.orgRemark"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.editOrg()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.editVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1)],1)},c=[],m={render:d,staticRenderFns:c},p=m,u=o("VU/8"),f=a,g=u(n,p,!1,f,"data-v-2e02366b",null);t.default=g.exports},XECG:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,"\n.demo-table-expand .el-form-item[data-v-2e02366b] {\n  width: 30%;\n}\n",""])},gMSz:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,"\n.popedomDialog .el-dialog {\n  width: 60%;\n}\n",""])},hVue:function(e,t,o){var a=o("XECG");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("713e0647",a,!0)},"ivv+":function(e,t,o){var a=o("gMSz");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("92050516",a,!0)},yHO1:function(e,t,o){"use strict";function a(e){o("ivv+")}Object.defineProperty(t,"__esModule",{value:!0});var r=o("fZjL"),l=o.n(r),i=o("Izdj"),s=o("cPFl"),n={mixins:[i.a],data:function(){return{url:"/oversea_tms/role/showRole.action",searchParams:{roleName:"",pageNo:1,pageSize:10},rules:s.p,addForm:{roleName:"",roleRemark:""},editForm:{roleId:"",roleName:"",roleRemark:""},configVisiable:!1,popedomData:[],checkedPopedom:[],checkAll:""}},methods:{openAddRole:function(){this.addVisiable=!0},addRole:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.submitData({data:e.addForm,url:"/oversea_tms/role/addRole.action",success:function(t){e.reload=!e.reload,e.addVisiable=!1,e.$refs.addForm.resetFields()}})})},openEditRole:function(e){var t=this;this.editVisiable=!0,l()(this.editForm).forEach(function(o){t.editForm[o]=e[o]})},editRole:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.submitData({data:e.editForm,url:"/oversea_tms/role/updateRole.action",success:function(t){e.reload=!e.reload,e.editVisiable=!1}})})},openDeleteRole:function(e){var t=this;this.confirm({title:this.$t("systemManage.role.deleteConfirm"),url:"/oversea_tms/role/deleteRole.action",data:{roleId:e.roleId},success:function(e){t.reload=!t.reload}})},openConfigRole:function(e){""!=e.popedomIds?this.checkedPopedom=e.popedomIds.split(","):this.checkedPopedom=[],this.configVisiable=!0},configRole:function(){var e=this;this.submitData({data:{roleId:this.rowData.roleId,popedomIdList:this.checkedPopedom.join(",")},url:"/oversea_tms/role/configRole.action",success:function(t){e.reload=!e.reload,e.configVisiable=!1}})},handleCheckedCitiesChange:function(e){this.checkedPopedom=e},checkChange:function(e,t){var o=this;t?(this.checkedPopedom.push.apply(this.checkedPopedom,e.ids),e.children&&e.children.length&&e.children.forEach(function(e){o.checkedPopedom.push.apply(o.checkedPopedom,e.ids)})):(this.checkedPopedom=this.checkedPopedom.filter(function(t){return!e.ids.includes(t)}),e.children&&e.children.length&&e.children.forEach(function(e){o.checkedPopedom=o.checkedPopedom.filter(function(t){return!e.ids.includes(t)})}))},getPopedom:function(){var e=this;this.getData({url:"/oversea_tms/popedom/allPopedom.action",success:function(t){e.popedomData=t}})}},mounted:function(){this.getPopedom()}},d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"search"},[o("more-panel",[o("el-form",{staticClass:"demo-form-inline",attrs:{slot:"form",inline:!0},slot:"form"},[o("el-form-item",{attrs:{label:e.$t("systemManage.role.searchLabel")}},[o("el-input",{attrs:{onkeydown:"if(event.keyCode==13)return false;",size:"small",placeholder:e.$t("systemManage.role.searchPlaceHolder")},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search()}},model:{value:e.searchParams.roleName,callback:function(t){e.$set(e.searchParams,"roleName",t)},expression:"searchParams.roleName"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"control"},slot:"control"},[o("el-button",{attrs:{size:"small",icon:"search",type:"primary"},on:{click:function(t){e.search()}}},[e._v(e._s(e.$t("search")))]),e._v(" "),o("el-button",{attrs:{size:"small",icon:"circle-close",type:"primary"},on:{click:function(t){e.reset()}}},[e._v(e._s(e.$t("reset")))]),e._v(" "),e._l(e.popedomList.button,function(t,a){return["01201"==t.popedomId?o("el-button",{key:a,attrs:{size:"small",type:"primary"},on:{click:function(t){e.openAddRole()}}},[o("i",{staticClass:"iconfont",class:t.popedomIconcls}),e._v(e._s(e.isEn?t.popedomName:t.popedomRemark))]):e._e()]})],2)],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":e.emptyText,"highlight-current-row":"",height:e.tableHeight,border:"",stripe:"",data:e.tableData},on:{"current-change":e.select}},[o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",type:"index",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.role.fieldId"),prop:"roleId","min-width":"240"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("systemManage.role.fieldname"),prop:"roleName","min-width":"170"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("remark"),prop:"roleRemark","min-width":"220"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$t("operation"),"min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.popedomList.button,function(a,r){return"01202"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"warning",size:"mini"},on:{click:function(o){e.openEditRole(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01204"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"success",size:"mini"},on:{click:function(o){e.openConfigRole(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()}),e._v(" "),e._l(e.popedomList.button,function(a,r){return"01203"==a.popedomId?o("el-button",{key:r,staticClass:"iconHandle",attrs:{title:e.isEn?a.popedomName:a.popedomRemark,type:"info",size:"mini"},on:{click:function(o){e.openDeleteRole(t.row)}}},[o("i",{staticClass:"iconfont",class:a.popedomIconcls})]):e._e()})]}}])})],1),e._v(" "),o("my-pagination",{attrs:{reload:e.reload,searchParams:e.searchParams,searchFlag:e.searchFlag,url:e.url},on:{loadingStatus:e.loadingStatus,tableContent:e.tableContent}}),e._v(" "),o("el-dialog",{attrs:{width:"40%",title:e.$t("systemManage.role.addFormTitle"),visible:e.addVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisiable=t}}},[o("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"130px"}},[o("el-form-item",{attrs:{prop:"roleName",label:e.$t("systemManage.role.fieldname")}},[o("el-input",{model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"roleRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.roleRemark,callback:function(t){e.$set(e.addForm,"roleRemark",t)},expression:"addForm.roleRemark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.addRole()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.addVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1),e._v(" "),o("el-dialog",{attrs:{width:"40%",title:e.$t("systemManage.role.editFormTitle"),visible:e.editVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisiable=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"130px"}},[o("el-form-item",{attrs:{prop:"roleName",label:e.$t("systemManage.role.fieldname")}},[o("el-input",{model:{value:e.editForm.roleName,callback:function(t){e.$set(e.editForm,"roleName",t)},expression:"editForm.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"roleRemark",label:e.$t("remark")}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.roleRemark,callback:function(t){e.$set(e.editForm,"roleRemark",t)},expression:"editForm.roleRemark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.editRole()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.editVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1),e._v(" "),o("el-dialog",{staticClass:"popedomDialog",attrs:{width:"75%",title:e.$t("systemManage.role.configFormTitle"),visible:e.configVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.configVisiable=t}}},[e._l(e.popedomData,function(t,a){return o("el-row",{key:a},[o("el-col",{attrs:{span:3}},[o("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedPopedom,callback:function(t){e.checkedPopedom=t},expression:"checkedPopedom"}},[o("el-checkbox",{key:a,attrs:{label:t.popedomId},on:{change:function(o){e.checkChange(t,o)}}},[e._v(e._s(e.isEn?t.popedomName:t.popedomRemark))])],1)],1),e._v(" "),o("el-col",{attrs:{span:21}},e._l(t.children,function(t,a){return o("div",{key:a,staticClass:"grid-content bg-purple"},[o("el-col",{attrs:{span:4}},[o("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedPopedom,callback:function(t){e.checkedPopedom=t},expression:"checkedPopedom"}},[o("el-checkbox",{key:a,attrs:{label:t.popedomId},on:{change:function(o){e.checkChange(t,o)}}},[e._v(e._s(e.isEn?t.popedomName:t.popedomRemark))])],1)],1),e._v(" "),o("el-col",{attrs:{span:20}},[o("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedPopedom,callback:function(t){e.checkedPopedom=t},expression:"checkedPopedom"}},e._l(t.children,function(t,a){return o("div",{key:a,staticClass:"left",staticStyle:{width:"25%"}},[o("el-checkbox",{attrs:{label:t.popedomId}},[e._v(e._s(e.isEn?t.popedomName:t.popedomRemark))])],1)}))],1)],1)}))],1)}),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.handleLoading},on:{click:function(t){e.configRole()}}},[e._v(e._s(e.$t("ok")))]),e._v(" "),o("el-button",{on:{click:function(t){e.configVisiable=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],2)],1)},c=[],m={render:d,staticRenderFns:c},p=m,u=o("VU/8"),f=a,g=u(n,p,!1,f,null,null);t.default=g.exports}});